name: "API Test - Search Subawards"
description: "Verify search_tango_subawards returns subaward data (1 API call)"
tool: "search_tango_subawards"
arguments:
  limit: 10

assertions:
  - type: "success"
  - type: "response_time_ms"
    max: 10000
  - type: "json_path"
    path: "$.data"
    expected_type: "array"
  - type: "json_path"
    path: "$.returned"
    expected_type: "number"
  - type: "json_path"
    path: "$.total"
    expected_type: "number"
  - type: "json_path"
    path: "$.pagination.limit"
    expected: 10
  - type: "json_path"
    path: "$.pagination.current_page"
    expected: 1
  - type: "json_path"
    path: "$.execution.cached"
    expected_type: "boolean"
  - type: "json_path"
    path: "$.data[0].subaward_id"
    expected_type: "string"
  - type: "json_path"
    path: "$.data[0].prime_contractor.name"
    expected_type: "string"
  - type: "json_path"
    path: "$.data[0].subcontractor.name"
    expected_type: "string"
